"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _xeUtils=_interopRequireDefault(require("xe-utils")),_conf=_interopRequireDefault(require("../../v-x-e-table/src/conf")),_vXETable=_interopRequireDefault(require("../../v-x-e-table")),_utils=require("../../tools/utils"),_render=require("./render"),_util=require("./util"),_vn=require("../../tools/vn");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var VxeFormConfigItem={name:"VxeFormConfigItem",props:{itemConfig:Object},inject:{$xeform:{default:null}},provide:function(){return{$xeformgather:null,$xeformiteminfo:this}},render:function(i){var e,t=this._e,l=this.$xeform,n=this.itemConfig,r=l.rules,o=l.data,s=l.collapseAll,a=l.validOpts,u=l.titleAlign,d=l.titleWidth,f=l.titleColon,c=l.titleAsterisk,m=l.titleOverflow,v=n.slots,x=n.title,_=n.folding,g=n.visible,p=n.field,h=n.collapseNode,q=n.itemRender,C=n.showError,N=n.errRule,U=n.className,F=n.titleOverflow,I=n.children,O=(0,_utils.isEnableConf)(q)?_vXETable.default.renderer.get(q.name):null,b=O?O.itemClassName:"",A=n.span||l.span,R=n.align||l.align,T=_xeUtils.default.eqNull(n.titleAlign)?u:n.titleAlign,u=_xeUtils.default.eqNull(n.titleWidth)?d:n.titleWidth,d=_xeUtils.default.eqNull(n.titleColon)?f:n.titleColon,f=_xeUtils.default.eqNull(n.titleAsterisk)?c:n.titleAsterisk,c=_xeUtils.default.isUndefined(F)||_xeUtils.default.isNull(F)?m:F,m="title"===c,F=!0===c||"tooltip"===c,c=m||F||"ellipsis"===c,k={data:o,field:p,property:p,item:n,$form:l};if(!1===g)return t();if(I&&0<I.length){I=n.children.map(function(e,t){return i(VxeFormConfigItem,{key:t,props:{itemConfig:e}})});return I.length?i("div",{class:["vxe-form--gather vxe-row",n.id,A?"vxe-col--".concat(A," is--span"):"",U?_xeUtils.default.isFunction(U)?U(k):U:""]},I):t()}!r||(w=r[p])&&(e=w.some(function(e){return e.required}));var w=[];v&&v.default?w=l.callSlot(v.default,k,i):O&&O.renderItemContent?w=(0,_vn.getSlotVNs)(O.renderItemContent.call(l,i,q,k)):O&&O.renderItem?w=(0,_vn.getSlotVNs)(O.renderItem.call(l,i,q,k)):p&&(w=[_xeUtils.default.toValueString(_xeUtils.default.get(o,p))]);F=F?{mouseenter:function(e){l.triggerTitleTipEvent(e,k)},mouseleave:l.handleTitleTipLeaveEvent}:{};return i("div",{class:["vxe-form--item",n.id,A?"vxe-col--".concat(A," is--span"):null,U?_xeUtils.default.isFunction(U)?U(k):U:"",b?_xeUtils.default.isFunction(b)?b(k):b:"",{"is--title":x,"is--colon":d,"is--asterisk":f,"is--required":e,"is--hidden":_&&s,"is--active":(0,_util.isActivetem)(l,n),"is--error":C}],props:{itemConfig:n},key:n.id},[i("div",{class:"vxe-form--item-inner"},[x||v&&v.title?i("div",{class:["vxe-form--item-title",T?"align--".concat(T):null,{"is--ellipsis":c}],style:u?{width:isNaN(u)?u:"".concat(u,"px")}:null,attrs:{title:m?(0,_utils.getFuncText)(x):null},on:F},(0,_render.renderTitle)(i,l,n)):null,i("div",{class:["vxe-form--item-content",R?"align--".concat(R):null]},w.concat([h?i("div",{class:"vxe-form--item-trigger-node",on:{click:l.toggleCollapseEvent}},[i("span",{class:"vxe-form--item-trigger-text"},s?_conf.default.i18n("vxe.form.unfolding"):_conf.default.i18n("vxe.form.folding")),i("i",{class:["vxe-form--item-trigger-icon",s?_conf.default.icon.FORM_FOLDING:_conf.default.icon.FORM_UNFOLDING]})]):null,N&&a.showMessage?i("div",{class:"vxe-form--item-valid",style:N.maxWidth?{width:"".concat(N.maxWidth,"px")}:null},N.content):null]))])])}},_default=VxeFormConfigItem;exports.default=_default;